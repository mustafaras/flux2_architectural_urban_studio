; FLUX.2 Grafana Configuration
; Location: /opt/flux2/config/grafana/grafana.ini

[paths]
data = /var/lib/grafana
logs = /var/log/grafana
plugins = /var/lib/grafana/plugins
provisioning = /opt/flux2/config/grafana/provisioning

[security]
admin_user = admin
admin_password = secure_password_change_me
disable_gravatar = true

[server]
protocol = http
http_addr = 127.0.0.1
http_port = 3000
domain = localhost
root_url = %(protocol)s://%(domain)s:%(http_port)s/
serve_from_sub_path = false

[database]
type = sqlite3
path = /var/lib/grafana/grafana.db
max_idle_conn = 2
max_open_conn = 0
log_queries = false

[auth]
disable_login_form = false
disable_signout_link = false

[auth.anonymous]
enabled = true
org_role = Viewer

[auth.github]
enabled = false

[auth.google]
enabled = false

[auth.okta]
enabled = false

[users]
allow_sign_up = false
auto_assign_org = true
auto_assign_org_id = 1
auto_assign_org_role = Viewer

[auth.ldap]
enabled = false

[session]
provider = memory
cookie_name = grafana_session
cookie_secure = false
session_life_time = 86400

[dataproxy]
logging = false
timeout = 30
keep_alive_seconds = 30
tls_handshake_timeout_seconds = 10
expect_close_connections = true

[analytics]
reporting_enabled = false
check_for_updates = true

[security.content_security_policy]
enabled = true
report_only = false

[log]
mode = console
level = info

[alerting]
enabled = true
execute_alerts = true
max_attempts = 3
min_interval = 1s

[metrics.graphite]
enabled = false

[smtp]
enabled = false
host = smtp.gmail.com:587
user = admin@example.com
password = your_password
skip_verify = false
from_address = admin@example.com
from_name = Grafana

[rendering]
server_url = http://127.0.0.1:8081/render
callback_url = http://127.0.0.1:3000/

[enterprise]
license_path = /etc/grafana/license.jwt

[install_plugins]
allow_unsigned_plugins_to_be_installed = false
plugin_admin_enabled = true
plugins_admin_url = 

[panels]
disable_sanitize_html = false

[plugins]
allow_ui_updates = true

[plugin.grafana-piechart-panel]
enabled = true

[plugin.grafana-worldmap-panel]
enabled = true

[plugin.grafana-table-panel]
enabled = true

[plugin.grafana-clock-panel]
enabled = true

[plugin.grafana-bar-gauge-panel]
enabled = true

[plugin.grafana-stat-panel]
enabled = true

[plugin.grafana-trend-panel]
enabled = true

[plugin.grafana-form-api-datasource]
enabled = true

[plugin.grafana-sparkline-panel]
enabled = true

[plugin.grafana-state-timeline]
enabled = true

[geospatial]
default_map_provider = grafana
default_item_per_page = 1000

[feature_toggles]
variableValueRecovery = true
showDashboardPreviewInNavigation = true
